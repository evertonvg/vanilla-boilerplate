---
import styles from './CookieConsent.module.scss'

export interface Props {
  policyUrl?: string
}

const { policyUrl = '/privacy' } = Astro.props
---

<div
  class={styles.cookieConsent}
  x-data="cookieConsent()"
  x-show="visible"
  x-transition
  role="dialog"
  aria-live="polite"
  aria-label="Aviso de cookies"
>
  <div class={styles.cookieConsent__content}>
    <p class={styles.cookieConsent__text}>
      Utilizamos cookies para melhorar sua experiência. Ao continuar navegando,
      você concorda com o uso de cookies conforme nossa
      <a href={policyUrl} class={styles.cookieConsent__link}>
        Política de Privacidade
      </a>.
    </p>

    <div class={styles.cookieConsent__actions}>
      <button
        class:list={[
          styles.cookieConsent__btn,
          styles['cookieConsent__btn--secondary']
        ]}
        @click="reject()"
      >
        Recusar
      </button>

      <button
        class:list={[
          styles.cookieConsent__btn,
          styles['cookieConsent__btn--primary']
        ]}
        @click="accept()"
        autofocus
      >
        Aceitar
      </button>
    </div>
  </div>
</div>
