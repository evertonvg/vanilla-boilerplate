---
import styles from './Button.module.scss'

interface Props {
  href?: string
  target?: string
  rel?: string
  type?: "button" | "submit" | "reset"
  variant?: "primary" | "secondary" | "ghost"
  size?: "sm" | "md" | "lg"
  full?: boolean
  disabled?: boolean
  id?: string
  class?: string
  ariaLabel?: string
}

const {
  href,
  target,
  rel,
  type = "button",
  variant = "primary",
  size = "md",
  full = false,
  disabled = false,
  id,
  class: extraClass = "",
  ariaLabel,
  ...rest
} = Astro.props as Props

const classList = [
  styles.btn,
  styles[`btn--${variant}`],
  styles[`btn--${size}`],
  full && styles["btn--full"],
  disabled && styles["btn--disabled"],
  extraClass
]
  .filter(Boolean)
  .join(" ")
---

{
  href ? (
    <a
      id={id}
      href={href}
      target={target}
      rel={rel}
      aria-label={ariaLabel}
      class={classList}
      {...rest}
    >
      <slot />
    </a>
  ) : (
    <button
      id={id}
      type={type}
      disabled={disabled}
      aria-label={ariaLabel}
      class={classList}
      {...rest}
    >
      <slot />
    </button>
  )
}
